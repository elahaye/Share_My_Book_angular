<h1>Connexion</h1>

<div class="alert alert-dismissible alert-warning" *ngIf="error">
  <button type="button" class="close" data-dismiss="alert">&times;</button>
  <p class="mb-0">{{ error }}</p>
</div>

<form [formGroup]="form" (ngSubmit)="handleSubmit()">
  <div class="form-group">
    <input
      type="email"
      class="form-control"
      [class.is-invalid]="form.controls['username'].invalid && submitted"
      placeholder="Adresse email"
      formControlName="username"
    />
    <p
      class="invalid-feedback"
      *ngIf="form.controls['username'].hasError('required')"
    >
      L'email est obligatoire.
    </p>
    <p
      class="invalid-feedback"
      *ngIf="form.controls['username'].hasError('email')"
    >
      Le format de l'adresse n'est pas valide.
    </p>
  </div>
  <div class="form-group">
    <input
      type="password"
      class="form-control"
      [class.is-invalid]="form.controls['password'].invalid && submitted"
      placeholder="Mot de passe"
      formControlName="password"
    />
    <p
      class="invalid-feedback"
      *ngIf="form.controls['password'].hasError('required')"
    >
      Le mot de passe est obligatoire.
    </p>
  </div>
  <button class="btn btn-warning">Connexion !</button>
</form>
